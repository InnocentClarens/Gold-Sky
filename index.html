<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Booking</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <img src="logo.png" id="logo">
        <div class="title">

        </div>
        <div class="fligth-container">
            <label for="">From :</label>
            <select name="" id="origin">
                <option value="30">Atlanta GA</option>
                <option value="44">Houston TX</option>
                <option value="233">Dallas TX</option>
                <option value="33">Austin TX</option>
                <option value="333">Jacksonville FL</option>
            </select>
            <label for="">Destination :</label>
            <select name="" id="destination">
                <option value="" id="title-destination" disabled selected hidden>Where to?</option>
                <option value="89">New York NY</option>
                <option value="56">Miami FL</option>
                <option value="120">New Orleans LA</option>
                <option value="200">Los Angeles LA</option>
                <option value="80">Fort Lauderdale FL</option>
                <option value="150"> Denver CO</option>
                <option value="220">Boston MA</option>
            </select>
            <label for="">Date :</label>
            <input placeholder="Depart?" type="text" onfocus="(this.type='date')" id="date">
            <label for="">Return date</label>
            <input placeholder="Return" type="text" onfocus="(this.type='date')" id="date">
        </div>
        <div class="status">
            <ul class="showcase">
                <li>
                    <div class="seat"></div>
                    <small>Available</small>
                </li>
                <li>
                    <div class="seat selected"></div>
                    <small>Selected</small>
                </li>
                <li>
                    <div class="seat occupited"></div>
                    <small>Unavailable</small>
                </li>
            </ul>
        </div>
        <div class="container">
            <div class="captan"></div>
            <div class="row" id="first-row">
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
            </div>
            <div class="row">
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
            </div>
            <div class="row">
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat occupited"></div>
                <div class="seat occupited"></div>
                <div class="seat"></div>
                <div class="seat"></div>
            </div>
            <div class="row" id="mid-row">
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
            </div>
            <div class="row">
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat occupited"></div>
                <div class="seat occupited"></div>
            </div>
            <div class="row">
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
            </div>
            <div class="row">
                <div class="seat occupited"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
            </div>
            <div class="row">
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat occupited"></div>
                <div class="seat occupited"></div>
                <div class="seat"></div>
            </div>
            <div class="row">
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
            </div>
        </div>
        <div class="summary">
            
            <p class="text">Price Per seat : <span id="priceperseat">&nbsp;</span> $  &nbsp; | &nbsp;
                Seat Selected : 
                <span id="count">0</span> seat  &nbsp;|&nbsp;          
                Total Payment : <span id="total">0</span> $
                <a href="passenger.html" class="btn btn-primary" id="butt">
                     Continue
                </a>
            </p>
        </div>
        <div class="bg"></div>
    <script>
  // Elements 
  const destination = document.getElementById('destination');
  const pricePerSeatEl = document.getElementById('priceperseat');
  const totalEl = document.getElementById('total');
  const countEl = document.getElementById('count');

  // match the class used in your HTML ("occupited")
  const seats = document.querySelectorAll('.row .seat:not(.occupited)');

  // Use the actual button id you have in HTML (id="butt")
  const continueBtn = document.getElementById('butt');

  //  State 
  let pricePerSeat = Number(destination.value || 0);

  //  Helpers 
  function formatMoney(n) {
    return Number(n || 0).toFixed(2);
  }

  function recalc() {
    const selectedCount = document.querySelectorAll('.row .seat.selected').length;
    countEl.textContent = selectedCount;
    totalEl.textContent = formatMoney(selectedCount * pricePerSeat);
  }

  function setPriceFromDestination() {
    pricePerSeat = Number(destination.value || 0);
    pricePerSeatEl.textContent = formatMoney(pricePerSeat);
    recalc();
  }

  //  price display 
  setPriceFromDestination();

  // Seat click handling
  seats.forEach(seat => {
    seat.addEventListener('click', () => {
      seat.classList.toggle('selected');
      recalc();
    });
  });

  //  Destination price change 
  destination.addEventListener('change', setPriceFromDestination);

  //  Continue button 
  continueBtn.addEventListener('click', (e) => {
    const selected = document.querySelectorAll('.row .seat.selected');
    if (selected.length === 0) {
      e.preventDefault();
      alert('Please select at least 1 seat.');
      return;
    }

    // Save selection for the next page (indexes)
    const allSeats = [...document.querySelectorAll('.row .seat')];
    const selectedIndexes = [...selected].map(s => allSeats.indexOf(s));

    sessionStorage.setItem('selectedSeats', JSON.stringify(selectedIndexes));
    sessionStorage.setItem('seatCount', String(selected.length));
    sessionStorage.setItem('pricePerSeat', String(pricePerSeat));
    sessionStorage.setItem('total', String(selected.length * pricePerSeat));

  });
</script>

</body>
</html>
